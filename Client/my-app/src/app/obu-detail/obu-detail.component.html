<p></p>

<div class="ui raised very padded text container segment">

<div *ngIf="obu">
    <h2>Obu Details</h2>
    <div><b>id: </b>{{obu.id}}</div>

    <div><b>hardware_id: </b>{{obu.hardwareId}}</div> 

    <div><b>Hardware: </b>
    <mat-form-field>
    <select matNativeControl required [(ngModel)]="obu.hardwareId">
        <option *ngFor="let hardware of hardwares" value="{{hardware.id}}">{{hardware.serialNumber}}</option>
    </select>
    </mat-form-field>

    <div>
        <b>Name:
        <mat-form-field appearance="standard">
        <mat-label>{{obu.obuName}}</mat-label>
        <input [(ngModel)]="obu.obuName" matInput placeholder="obu_name">
        </mat-form-field>
        </b>
    </div>

    <div>
        <b>Password:
        <mat-form-field appearance="standard">
        <mat-label>{{obu.obuPassword}}</mat-label>
        <input [(ngModel)]="obu.obuPassword" matInput placeholder="Obu Name">
        </mat-form-field>
        </b>
    </div>

    <b>State: </b>
    <mat-form-field>
    <select matNativeControl required [value]="obu.obuState">
        <option value="READY">READY</option>
        <option value="ACTIVE">ACTIVE</option>
        <option value="DEACTIVATED">DEACTIVATED</option>
    </select>
    </mat-form-field>
    
    <div *ngIf="obu.currentConfigId != null"><b>Current Configuration: </b>{{obu.currentConfigId}}</div>
    <div *ngIf="obu.currentConfigId == null"><b>Current Configuration: </b>No Configuration</div>

    <div *ngIf="obu.currentTestPlanId != null"><b>Current Test Plan: </b>{{obu.currentTestPlanId}}</div>
    <div *ngIf="obu.currentTestPlanId == null"><b>Current Test Plan: </b>No Test Plan</div>


    <div *ngIf="obu.sims!=null" class="ui container segment" >
            <h4>Sims ({{obu.sims.length}})</h4>
            <div class="ui segment" *ngFor="let sim of obu.sims">
                
                <b>Modem Type: </b>
                <mat-form-field>
                <select matNativeControl required [(ngModel)]="sim.modemType">
                    <option value="PLMN">PLMN</option>
                    <option value="GSMR">GSMR</option>
                </select>
                </mat-form-field>

                <div>
                    <b>MSISDN:
                    <mat-form-field appearance="standard">
                    <mat-label>{{sim.msisdn}}</mat-label>
                    <input [(ngModel)]="sim.msisdn" matInput placeholder="MSISDN">
                    </mat-form-field>
                    </b>
                </div>

                <div>
                    <b>Pin:
                    <mat-form-field appearance="standard">
                    <mat-label>{{sim.simPin}}</mat-label>
                    <input [(ngModel)]="sim.simPin" matInput placeholder="Sim Pin">
                    </mat-form-field>
                    </b>
                </div>

                <div>
                    <b>Puk:
                    <mat-form-field appearance="standard">
                    <mat-label>{{sim.simPuk}}</mat-label>
                    <input [(ngModel)]="sim.simPuk" matInput placeholder="Sim Puk">
                    </mat-form-field>
                    </b>
                </div>

                <div>
                    <b>ICCID:
                    <mat-form-field appearance="standard">
                    <mat-label>{{sim.iccid}}</mat-label>
                    <input [(ngModel)]="sim.iccid" matInput placeholder="ICCID">
                    </mat-form-field>
                    </b>
                </div>

                <div>
                    <b>APN:
                    <mat-form-field appearance="standard">
                    <mat-label>{{sim.apn}}</mat-label>
                    <input [(ngModel)]="sim.apn" matInput placeholder="APN">
                    </mat-form-field>
                    </b>
                </div>

                <div>
                    <b>APN User:
                    <mat-form-field appearance="standard">
                    <mat-label>{{sim.apnUser}}</mat-label>
                    <input [(ngModel)]="sim.apnUser" matInput placeholder="APN User">
                    </mat-form-field>
                    </b>
                </div> 

                <div>
                    <b>APN Pass:
                    <mat-form-field appearance="standard">
                    <mat-label>{{sim.apnPass}}</mat-label>
                    <input [(ngModel)]="sim.apnPass" matInput placeholder="APN Pass">
                    </mat-form-field>
                    </b>
                </div> 
                
                <button class="ui primary button" (click)="deleteSim(sim)" data-tooltip="Delete Sim"> Delete Sim</button>

            </div>
            
            <button *ngIf="obu.sims.length != 2"  class="ui primary button" (click)="addSim()" data-tooltip="Add Component"> Add Sim</button>
            
        </div>


    <div><b>Creator: </b>{{obu.creator}}</div>

    <div><b>Creation Date: </b>{{obu.creationDate}}</div>

    <div *ngIf="obu.modified_date!=null || obu.modifier!=null">
    <div><b>Modifier: </b>{{obu.modifier}}</div>
    <div><b>Modified Date: </b>{{obu.modifiedDate}}</div>
    </div>

</div>

<div style="margin-top:30px;">
        <div class="ui suspend button" (click)="goBack()" data-tooltip="Go back">Go Back</div>
        <div class="ui suspend button" (click)="saveChanges()" data-tooltip="Save Changes">Save</div>
</div>

</div>